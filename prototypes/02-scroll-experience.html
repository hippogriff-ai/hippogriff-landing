<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hippogriff — Scroll Playground</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800;900&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --bg: #1a1a1a;
    --accent: #f5c542;
    --text: #f0ece2;
  }

  html { scroll-behavior: smooth; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Inter', -apple-system, sans-serif;
    overflow-x: hidden;
  }

  /* ── Hero Section ── */
  .hero {
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
  }

  .hero-tagline {
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 4px;
    color: var(--accent);
    opacity: 0;
    transform: translateY(20px);
    margin-bottom: 20px;
  }

  .hero-title {
    font-size: 80px;
    font-weight: 900;
    letter-spacing: -2px;
    opacity: 0;
    transform: scale(0.8);
  }

  .hero-subtitle {
    font-size: 17px;
    opacity: 0;
    transform: translateY(20px);
    margin-top: 20px;
    color: var(--text);
    max-width: 440px;
    text-align: center;
    line-height: 1.6;
  }
  .hero-subtitle span {
    opacity: 0.5;
  }

  .scroll-hint {
    position: absolute;
    bottom: 40px;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: var(--accent);
    opacity: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
  }
  .scroll-hint .arrow {
    width: 1px;
    height: 30px;
    background: var(--accent);
    animation: pulse-down 1.5s ease infinite;
  }
  @keyframes pulse-down {
    0%, 100% { opacity: 0.3; transform: scaleY(0.6); }
    50% { opacity: 1; transform: scaleY(1); }
  }

  /* hero entrance animations */
  .hero.visible .hero-title {
    animation: hero-title-in 1s cubic-bezier(0.16, 1, 0.3, 1) 0.1s forwards;
  }
  .hero.visible .hero-tagline {
    animation: fade-up 0.8s ease 0.5s forwards;
  }
  .hero.visible .hero-subtitle {
    animation: fade-up 0.8s ease 0.7s forwards;
  }
  .hero.visible .scroll-hint {
    animation: fade-up 0.8s ease 1.2s forwards;
  }

  @keyframes hero-title-in {
    from { opacity: 0; transform: scale(0.8); }
    to { opacity: 1; transform: scale(1); }
  }
  @keyframes fade-up {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* ── Project Scene ── */
  .project-scene {
    min-height: 200vh;
    position: relative;
  }

  .project-sticky {
    position: sticky;
    top: 0;
    height: 100vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  /* Invader Canvas */
  .invader-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  /* Project Info — appears after scroll */
  .project-info {
    position: relative;
    z-index: 10;
    text-align: center;
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  }
  .project-info.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .project-name {
    font-size: 36px;
    font-weight: 800;
    color: var(--accent);
    margin-bottom: 8px;
  }
  .project-desc {
    font-size: 15px;
    color: var(--text);
    opacity: 0.5;
    margin-bottom: 28px;
  }
  .project-cta {
    display: inline-block;
    padding: 14px 36px;
    border: 1px solid var(--accent);
    color: var(--accent);
    text-decoration: none;
    font-size: 14px;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    border-radius: 8px;
    transition: all 0.2s;
  }
  .project-cta:hover {
    background: var(--accent);
    color: var(--bg);
  }

  /* Intensity meter */
  .intensity-bar {
    position: fixed;
    right: 24px;
    top: 50%;
    transform: translateY(-50%);
    width: 3px;
    height: 120px;
    background: rgba(240, 236, 226, 0.1);
    border-radius: 2px;
    z-index: 100;
    opacity: 0;
    transition: opacity 0.4s;
  }
  .intensity-bar.visible { opacity: 1; }
  .intensity-fill {
    position: absolute;
    bottom: 0;
    width: 100%;
    background: var(--accent);
    border-radius: 2px;
    transition: height 0.1s;
  }
  .intensity-label {
    position: absolute;
    right: 12px;
    bottom: -20px;
    font-size: 10px;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--accent);
    opacity: 0.6;
  }

  /* ── Future Projects Placeholder ── */
  .future-projects {
    padding: 120px 32px;
    text-align: center;
  }
  .future-label {
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 3px;
    color: var(--accent);
    opacity: 0.3;
    margin-bottom: 40px;
  }
  .future-grid {
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
    max-width: 600px;
    margin: 0 auto;
  }
  .future-card {
    width: 180px;
    height: 100px;
    border: 1px solid rgba(245, 197, 66, 0.15);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 13px;
    color: var(--text);
    opacity: 0.2;
    transition: all 0.4s;
  }
  .future-card:hover {
    opacity: 0.4;
    border-color: rgba(245, 197, 66, 0.3);
  }

  /* ── Footer ── */
  .footer {
    padding: 60px 32px;
    text-align: center;
    font-size: 12px;
    color: var(--text);
    opacity: 0.2;
  }
  .footer a {
    color: var(--accent);
    text-decoration: none;
    opacity: 0.6;
  }
  .footer a:hover { opacity: 1; }
</style>
</head>
<body>

<!-- Hero -->
<section class="hero" id="hero">
  <div class="hero-tagline">magical things, built with love</div>
  <div class="hero-title">Hippogriff</div>
  <div class="hero-subtitle"><span>A home for things I build — games, tools, and experiments.</span></div>
  <div class="scroll-hint">
    <span>scroll</span>
    <div class="arrow"></div>
  </div>
</section>

<!-- TypeCraft Scene -->
<section class="project-scene" id="typecraftScene">
  <div class="project-sticky">
    <canvas class="invader-canvas" id="invaderCanvas"></canvas>
    <div class="project-info" id="typecraftInfo">
      <div class="project-name">TypeCraft</div>
      <div class="project-desc">A Space Invaders typing game that finds your weak keys</div>
      <a class="project-cta" href="https://typecraft.hippogriff.io" target="_blank">Play</a>
    </div>
  </div>
</section>

<!-- Future Projects -->
<section class="future-projects">
  <div class="future-label">coming soon</div>
  <div class="future-grid">
    <div class="future-card">Project 2</div>
    <div class="future-card">Project 3</div>
    <div class="future-card">Project 4</div>
    <div class="future-card">Project 5</div>
  </div>
</section>

<!-- Footer -->
<footer class="footer">
  <a href="https://github.com/your-handle" target="_blank">github</a>
  &nbsp;&middot;&nbsp;
  built with love
</footer>

<!-- Intensity Bar -->
<div class="intensity-bar" id="intensityBar">
  <div class="intensity-fill" id="intensityFill"></div>
  <div class="intensity-label">intensity</div>
</div>

<script>
// ── Invader System ──
const canvas = document.getElementById('invaderCanvas');
const ctx = canvas.getContext('2d');

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener('resize', resize);

const CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'.split('');
const ACCENT = '#f5c542';
const TEXT_COLOR = '#f0ece2';

// Pixel art invader patterns (8x8)
const INVADER_PATTERNS = [
  [
    0,0,1,0,0,1,0,0,
    0,0,0,1,1,0,0,0,
    0,0,1,1,1,1,0,0,
    0,1,1,0,0,1,1,0,
    1,1,1,1,1,1,1,1,
    1,0,1,1,1,1,0,1,
    1,0,1,0,0,1,0,1,
    0,0,0,1,1,0,0,0,
  ],
  [
    0,0,0,1,1,0,0,0,
    0,0,1,1,1,1,0,0,
    0,1,1,1,1,1,1,0,
    1,1,0,1,1,0,1,1,
    1,1,1,1,1,1,1,1,
    0,0,1,0,0,1,0,0,
    0,1,0,1,1,0,1,0,
    1,0,1,0,0,1,0,1,
  ],
  [
    0,0,1,0,0,1,0,0,
    0,0,0,1,1,0,0,0,
    0,1,1,1,1,1,1,0,
    1,1,0,1,1,0,1,1,
    1,1,1,1,1,1,1,1,
    0,1,1,1,1,1,1,0,
    0,0,1,0,0,1,0,0,
    0,1,0,0,0,0,1,0,
  ],
];

class Invader {
  constructor(intensity) {
    this.x = Math.random() * canvas.width;
    this.y = -40;
    this.char = CHARS[Math.floor(Math.random() * CHARS.length)];
    this.pattern = INVADER_PATTERNS[Math.floor(Math.random() * INVADER_PATTERNS.length)];
    this.speed = 0.3 + intensity * 2.5;
    this.wobble = Math.random() * Math.PI * 2;
    this.wobbleSpeed = 0.01 + Math.random() * 0.02;
    this.wobbleAmp = 15 + Math.random() * 25;
    this.size = 32 + Math.floor(Math.random() * 16);
    this.opacity = 0.3 + intensity * 0.7;
    this.alive = true;
  }

  update() {
    this.y += this.speed;
    this.wobble += this.wobbleSpeed;
    this.x += Math.sin(this.wobble) * 0.5;
    if (this.y > canvas.height + 50) this.alive = false;
  }

  draw() {
    ctx.save();
    ctx.globalAlpha = this.opacity;

    const px = this.size / 8;
    const ox = this.x - this.size / 2;
    const oy = this.y - this.size / 2;

    // Draw pixel pattern
    for (let i = 0; i < 64; i++) {
      if (this.pattern[i]) {
        const col = i % 8;
        const row = Math.floor(i / 8);
        ctx.fillStyle = ACCENT;
        ctx.fillRect(ox + col * px, oy + row * px, px - 0.5, px - 0.5);
      }
    }

    // Draw character
    ctx.globalAlpha = Math.min(1, this.opacity + 0.2);
    ctx.fillStyle = TEXT_COLOR;
    ctx.font = `900 ${this.size * 0.55}px 'Courier New', monospace`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.strokeStyle = 'rgba(0,0,0,0.8)';
    ctx.lineWidth = 3;
    ctx.strokeText(this.char, this.x, this.y);
    ctx.fillText(this.char, this.x, this.y);

    ctx.restore();
  }
}

let invaders = [];
let scrollIntensity = 0;
let lastSpawn = 0;
let animating = false;

function spawnInvaders(now) {
  if (scrollIntensity <= 0) return;

  const rate = 100 + (1 - scrollIntensity) * 900; // ms between spawns
  if (now - lastSpawn > rate) {
    // spawn 1-3 depending on intensity
    const count = Math.ceil(scrollIntensity * 3);
    for (let i = 0; i < count; i++) {
      invaders.push(new Invader(scrollIntensity));
    }
    lastSpawn = now;
  }
}

function animate(now) {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  spawnInvaders(now);

  invaders.forEach(inv => {
    inv.update();
    inv.draw();
  });

  invaders = invaders.filter(inv => inv.alive);

  if (animating || invaders.length > 0) {
    requestAnimationFrame(animate);
  }
}

// ── Scroll Logic ──
const scene = document.getElementById('typecraftScene');
const hero = document.getElementById('hero');
const info = document.getElementById('typecraftInfo');
const intensityBar = document.getElementById('intensityBar');
const intensityFill = document.getElementById('intensityFill');

function onScroll() {
  const rect = scene.getBoundingClientRect();
  const sceneH = scene.offsetHeight - window.innerHeight;
  const scrolled = -rect.top;
  const progress = Math.max(0, Math.min(1, scrolled / sceneH));

  scrollIntensity = progress;

  // Show/hide intensity bar
  if (progress > 0 && progress < 1) {
    intensityBar.classList.add('visible');
  } else {
    intensityBar.classList.remove('visible');
  }
  intensityFill.style.height = (progress * 100) + '%';

  // Show project info after 60% scroll
  if (progress > 0.6) {
    info.classList.add('visible');
  } else {
    info.classList.remove('visible');
  }

  // Start/stop animation
  if (progress > 0 && progress < 1) {
    if (!animating) {
      animating = true;
      requestAnimationFrame(animate);
    }
  } else {
    animating = false;
  }
}

window.addEventListener('scroll', onScroll, { passive: true });

// Hero entrance
setTimeout(() => hero.classList.add('visible'), 100);

// Initial scroll check
onScroll();
</script>
</body>
</html>
